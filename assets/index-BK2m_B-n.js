import{r as s,u as O,a as ce,b as q,c as ue,d as de,e as fe,f as A,g as he,h as B,i as pe,j as M}from"./index-CXoOwqcI.js";import{r as me}from"./index-Cl3UC-9h.js";const ve="Error preloading route! ☝️";function ye(r,v){const a=O(),[u,y]=s.useState(!1),m=s.useRef(!1),l=ce(v),{activeProps:g=()=>({className:"active"}),inactiveProps:V=()=>({}),activeOptions:n,to:T,preload:w,preloadDelay:W,hashScrollIntoView:G,replace:$,startTransition:J,resetScroll:Q,viewTransition:X,children:I,target:f,disabled:o,style:x,className:P,onClick:S,onFocus:b,onMouseEnter:k,onMouseLeave:E,onTouchStart:_,ignoreBlocker:Y,...Z}=r,{params:Pe,search:Se,hash:be,state:ke,mask:Ee,reloadDocument:_e,...j}=Z,F=s.useMemo(()=>{try{return new URL(`${T}`),"external"}catch{}return"internal"},[T]),ee=q({select:e=>e.location.search,structuralSharing:!0}),N=ue({select:e=>{var t;return r.from??((t=e[e.length-1])==null?void 0:t.fullPath)}}),i=s.useMemo(()=>({...r,from:N}),[r,N]),c=s.useMemo(()=>a.buildLocation(i),[a,i,ee]),h=s.useMemo(()=>i.reloadDocument?!1:w??a.options.defaultPreload,[a.options.defaultPreload,w,i.reloadDocument]),te=W??a.options.defaultPreloadDelay??0,R=q({select:e=>{if(n!=null&&n.exact){if(!he(e.location.pathname,c.pathname,a.basepath))return!1}else{const t=B(e.location.pathname,a.basepath).split("/");if(!B(c.pathname,a.basepath).split("/").every((le,ie)=>le===t[ie]))return!1}return((n==null?void 0:n.includeSearch)??!0)&&!pe(e.location.search,c.search,{partial:!(n!=null&&n.exact),ignoreUndefined:!(n!=null&&n.explicitUndefined)})?!1:n!=null&&n.includeHash?e.location.hash===c.hash:!0}}),d=s.useCallback(()=>{a.preloadRoute(i).catch(e=>{console.warn(e),console.warn(ve)})},[i,a]),ae=s.useCallback(e=>{e!=null&&e.isIntersecting&&d()},[d]);if(de(l,ae,{rootMargin:"100px"},{disabled:!!o||h!=="viewport"}),fe(()=>{m.current||!o&&h==="render"&&(d(),m.current=!0)},[o,d,h]),F==="external")return{...j,ref:l,type:F,href:T,...I&&{children:I},...f&&{target:f},...o&&{disabled:o},...x&&{style:x},...P&&{className:P},...S&&{onClick:S},...b&&{onFocus:b},...k&&{onMouseEnter:k},...E&&{onMouseLeave:E},..._&&{onTouchStart:_}};const re=e=>{if(!o&&!Te(e)&&!e.defaultPrevented&&(!f||f==="_self")&&e.button===0){e.preventDefault(),me.flushSync(()=>{y(!0)});const t=a.subscribe("onResolved",()=>{t(),y(!1)});return a.navigate({...i,replace:$,resetScroll:Q,hashScrollIntoView:G,startTransition:J,viewTransition:X,ignoreBlocker:Y})}},H=e=>{o||h&&d()},oe=H,ne=e=>{if(o)return;const t=e.target||{};if(h){if(t.preloadTimeout)return;t.preloadTimeout=setTimeout(()=>{t.preloadTimeout=null,d()},te)}},se=e=>{if(o)return;const t=e.target||{};t.preloadTimeout&&(clearTimeout(t.preloadTimeout),t.preloadTimeout=null)},p=e=>t=>{var L;(L=t.persist)==null||L.call(t),e.filter(Boolean).forEach(U=>{t.defaultPrevented||U(t)})},C=R?A(g,{})??{}:{},D=R?{}:A(V,{}),z=[P,C.className,D.className].filter(Boolean).join(" "),K={...x,...C.style,...D.style};return{...j,...C,...D,href:o?void 0:c.maskedLocation?a.history.createHref(c.maskedLocation.href):a.history.createHref(c.href),ref:l,onClick:p([S,re]),onFocus:p([b,H]),onMouseEnter:p([k,ne]),onMouseLeave:p([E,se]),onTouchStart:p([_,oe]),disabled:!!o,target:f,...Object.keys(K).length&&{style:K},...z&&{className:z},...o&&{role:"link","aria-disabled":!0},...R&&{"data-status":"active","aria-current":"page"},...u&&{"data-transitioning":"transitioning"}}}const ge=s.forwardRef((r,v)=>{const{_asChild:a,...u}=r,{type:y,ref:m,...l}=ye(u,v),g=typeof u.children=="function"?u.children({isActive:l["data-status"]==="active"}):u.children;return typeof a>"u"&&delete l.disabled,s.createElement(a||"a",{...l,ref:m},g)});function Te(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const xe=()=>(O().navigate({to:"/simulator"}),M.jsxs("div",{children:["Welcome!",M.jsx(ge,{to:"/simulator",children:"Go to Simulator"})]})),De=()=>M.jsx(xe,{});export{De as component};
